import{n,a as o}from"./index-63b3abee.js";import"./three-2ccf5448.js";var l=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"headerOperation-container"},[t("div",{staticClass:"operate-history"},[t("vis-icon",{attrs:{code:"#iconbianjiantouzuo"},nativeOn:{click:function(s){return(function(){e.$store.commit("appLibrary/backOffHistory")}).apply(null,arguments)}}}),t("vis-icon",{attrs:{code:"#iconbianjiantouyou"},nativeOn:{click:function(s){return(function(){e.$store.commit("appLibrary/forwardHistory")}).apply(null,arguments)}}})],1),t("div",{staticClass:"operate-address"},e._l(e.addressList,function(s,i){return t("span",{key:i,staticClass:"address-sign-box",on:{click:function(f){return e.chouseFile(s)}}},[i>0?t("vis-icon",{style:{transform:"scale(0.6)"},attrs:{code:"#iconsanjiaojiantouyou"}}):e._e(),t("span",{staticClass:"address-title",domProps:{textContent:e._s(s.name)}})],1)}),0),t("div",{staticClass:"operate-operation"},[t("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"click"},model:{value:e.classifyVisible,callback:function(s){e.classifyVisible=s},expression:"classifyVisible"}},[t("el-input",{staticClass:"popover-input",attrs:{size:"mini",placeholder:"输入分类名称"},model:{value:e.classifyName,callback:function(s){e.classifyName=s},expression:"classifyName"}}),t("div",{staticClass:"popover-operation"},[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:e.addClassify}},[e._v(" 确定 ")])],1),t("el-tooltip",{attrs:{slot:"reference",effect:"dark",content:"新增分类",placement:"top"},slot:"reference"},[t("vis-icon",{directives:[{name:"show",rawName:"v-show",value:e.canAddClassify,expression:"canAddClassify"}],attrs:{code:"#iconjia1"}})],1)],1)],1)])},c=[];const d={data(){return{classifyName:"",classifyVisible:!1}},computed:{currentFloder(){return this.$store.getters["appLibrary/currentFloder"]},canUpload(){const e=this.currentFloder.children;return!e.length&&this.currentFloder.url!=="/"?!0:!!(e.length&&!e[0].dir)},canAddClassify(){const e=this.currentFloder.children;return e.length&&e[0].dir?!0:!e.length},addressList(){const e=[this.currentFloder],r=t=>{t.parent&&(e.unshift(t.parent),r(t.parent))};return r(this.currentFloder),e}},methods:{chouseFile(e){e.dir&&this.$store.commit("appLibrary/currentFloder",e)},upload(){this.$refs.uploadInput.click()},fileHandler(e){},addClassify(){this.classifyName.trim()?o.addClassify({name:this.classifyName.trim(),parentId:this.currentFloder.id}).then(e=>{this.$store.commit("appLibrary/addChildren",e),this.classifyName="",this.classifyVisible=!1,this.$message.success("添加分类成功！")}):(this.classifyName="",this.classifyVisible=!1)}}},a={};var u=n(d,l,c,!1,p,"5709e240",null,null);function p(e){for(let r in a)this[r]=a[r]}const y=function(){return u.exports}();export{y as default};

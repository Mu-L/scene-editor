import{n as a}from"./texture-635886dc.js";import"./three-ea07d844.js";var c=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"containerOperation-container"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loading-mask"},[t("vis-icon",{staticClass:"ani",attrs:{code:"#iconxuanzhuan"}}),t("span",[e._v("正在加载...")])],1),!e.loading&&!e.floderChildren.length?t("div",{staticClass:"empty-tips"},[t("span",[e._v("这里暂时是空的哦")])]):e._l(e.floderChildren,function(n,r){return t("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:`${n.name}`,expression:"`${item.name}`",modifiers:{bottom:!0}}],key:r,staticClass:"file-item-box",class:{active:!1},attrs:{draggable:!n.dir},on:{click:function(s){return e.chouseFile(n)},dragstart:function(s){return e.dragstart(s,n)}}},[n.dir?[t("vis-icon",{attrs:{size:e.iconSize,code:"#iconwenjianjia"}})]:[t("img",{attrs:{src:n.preview}})],t("span",{staticClass:"item-title",domProps:{textContent:e._s(n.name)}}),t("vis-icon",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"删除",expression:"`删除`",modifiers:{bottom:!0}}],staticClass:"item-delete",attrs:{size:"16px",code:"#iconshanchu"},nativeOn:{click:function(s){return s.stopPropagation(),e.remove(n)}}})],2)}),t("div",{staticClass:"file-item-placeholder",style:{display:e.floderChildren.length%2!==0?"block":"none",flex:1}})],2)},l=[];const m={data(){return{iconSize:"35px",fileIcon:{mtl:"#iconmtl"},configTemplateCache:{},configRootCache:{},timer:"",throttleTime:1e3/45,canMove:!0}},computed:{loading(){return this.$store.getters["componentLibrary/loading"]},currentFloder(){return this.$store.getters["componentLibrary/currentFloder"]},floderChildren(){return this.currentFloder.children},currentScene(){return this.$store.getters["scene/currentScene"]}},methods:{chouseFile(e){e.dir&&this.$store.commit("componentLibrary/currentFloder",e)},dragstart(e,o){e.preventDefault(),this.$store.commit("component/draggedComponentItem",o),this.$store.commit("component/dragging",!0);const t=new Image;t.src=e.target.src,t.style.position="fixed",t.style.zIndex=20,t.style.opacity=.6,document.body.appendChild(t);const n=s=>{this.canMove&&(this.canMove=!1,this.timer=setTimeout(()=>{t.style.top=`${s.clientY+10}px`,t.style.left=`${s.clientX+10}px`,this.canMove=!0},this.throttleTime))},r=s=>{document.body.removeChild(t),document.body.removeEventListener("mousemove",n),document.body.removeEventListener("mouseup",r)};document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",r)},remove(e){e.dir?this.$confirm(`是否删除此分类: ${e.name}?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.axios.post("/component/removeClassify",{id:e.id}).then(o=>{o.status===200?(this.$message({type:"success",message:"删除成功!"}),this.$store.commit("componentLibrary/removeChildren",e)):this.$message.error(o.message)})}):this.$confirm(`是否删除此模型: ${e.name}, 删除此模型相关的编辑项目会受到影响，是否继续?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.axios.post("/component/removeComponent",{id:e.id}).then(o=>{o.status===200?(this.$message({type:"success",message:"删除成功!"}),this.$store.commit("componentLibrary/removeChildren",e)):this.$message.error(o.message)})})}}},i={};var d=a(m,c,l,!1,u,"06ef9116",null,null);function u(e){for(let o in i)this[o]=i[o]}const h=function(){return d.exports}();export{h as default};

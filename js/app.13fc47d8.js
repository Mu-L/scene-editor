(function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],u=0,f=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var s=i[o];0!==r[s]&&(n=!1)}n&&(a.splice(e--,1),t=c(c.s=i[0]))}return t}var n={},o={app:0},r={app:0},a=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-200ecf11":"4b028961","chunk-2d0d7111":"69aadab1","chunk-2d0f0a02":"14a3a592","chunk-4b4bcb48":"22a0c11a","chunk-5f41c158":"74ac14c1","chunk-87f927da":"2f9e458d","chunk-1cc18f8a":"819b3743","chunk-6323d016":"353bb7d2","chunk-d4341f88":"a0d60011","chunk-f8bf44fa":"2a7531f9","chunk-1051f389":"f9e080cb","chunk-2451c098":"ff0c44c1","chunk-2d0a5502":"e5624ae6","chunk-2d0b93c8":"adf323c4","chunk-2d0c08cf":"b7135d97","chunk-2d0c1242":"d3e435ff","chunk-2d0c1d59":"5c49f61d","chunk-2d0c84a7":"fe2a657e","chunk-2d0d36e4":"5e56e56a","chunk-2d0e9811":"f06e4ed4","chunk-2d0f1135":"8de7f230","chunk-2d212b73":"e2e7c5ca","chunk-2d2170f8":"7ec9a14f","chunk-2d217393":"d4a64495","chunk-2d217a21":"570a53ad","chunk-2d21af87":"d96afbea","chunk-2d222917":"e12863fd","chunk-2d224d3c":"4ab493f6","chunk-2d2250b0":"25488d42","chunk-2d22d38b":"2e9934d4","chunk-40dcf2ed":"634b77f0","chunk-772fb2b2":"14840d25","chunk-2f7802e9":"fe628570"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(t){var e=[],i={"chunk-200ecf11":1,"chunk-4b4bcb48":1,"chunk-5f41c158":1,"chunk-1cc18f8a":1,"chunk-6323d016":1,"chunk-d4341f88":1,"chunk-f8bf44fa":1,"chunk-1051f389":1,"chunk-2451c098":1,"chunk-40dcf2ed":1,"chunk-2f7802e9":1};o[t]?e.push(o[t]):0!==o[t]&&i[t]&&e.push(o[t]=new Promise((function(e,i){for(var n="css/"+({}[t]||t)+"."+{"chunk-200ecf11":"cf3bb6b7","chunk-2d0d7111":"31d6cfe0","chunk-2d0f0a02":"31d6cfe0","chunk-4b4bcb48":"726966b9","chunk-5f41c158":"30c55a98","chunk-87f927da":"31d6cfe0","chunk-1cc18f8a":"8e26cc8b","chunk-6323d016":"ddf5d6f6","chunk-d4341f88":"7813d011","chunk-f8bf44fa":"996c4cb0","chunk-1051f389":"e1e69b86","chunk-2451c098":"964bcd01","chunk-2d0a5502":"31d6cfe0","chunk-2d0b93c8":"31d6cfe0","chunk-2d0c08cf":"31d6cfe0","chunk-2d0c1242":"31d6cfe0","chunk-2d0c1d59":"31d6cfe0","chunk-2d0c84a7":"31d6cfe0","chunk-2d0d36e4":"31d6cfe0","chunk-2d0e9811":"31d6cfe0","chunk-2d0f1135":"31d6cfe0","chunk-2d212b73":"31d6cfe0","chunk-2d2170f8":"31d6cfe0","chunk-2d217393":"31d6cfe0","chunk-2d217a21":"31d6cfe0","chunk-2d21af87":"31d6cfe0","chunk-2d222917":"31d6cfe0","chunk-2d224d3c":"31d6cfe0","chunk-2d2250b0":"31d6cfe0","chunk-2d22d38b":"31d6cfe0","chunk-40dcf2ed":"a744dc46","chunk-772fb2b2":"31d6cfe0","chunk-2f7802e9":"b8f7b650"}[t]+".css",r=c.p+n,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var l=a[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===r))return e()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){l=f[s],u=l.getAttribute("data-href");if(u===n||u===r)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||r,a=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete o[t],d.parentNode.removeChild(d),i(a)},d.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(d)})).then((function(){o[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(t);var f=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(d);var i=r[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",f.name="ChunkLoadError",f.type=n,f.request=o,i[1](f)}r[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(i,n,function(e){return t[e]}.bind(null,n));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="https://shiotsukikaedesari.gitee.io/mmddisplaydevice/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var f=0;f<l.length;f++)e(l[f]);var d=u;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0726":function(t,e,i){"use strict";var n=i("cf9b"),o=i.n(n);o.a},"0d20":function(t,e,i){"use strict";var n=i("89e9"),o=i.n(n);o.a},"131b":function(t,e,i){"use strict";var n=i("d6bf"),o=i.n(n);o.a},"14fa":function(t,e,i){},"19ab":function(t,e){t.exports={state:{sign:"",mouseX:"",mouseY:"",mousemoveX:"",mousemoveY:"",dragBoxMaskStatus:!1,dragBoxMaskCursor:"ew-resize"},getters:{getDragSign:function(t){return t.sign},getDragBoxMaskStatus:function(t){return t.dragBoxMaskStatus},getDragBoxMaskCursor:function(t){return t.dragBoxMaskCursor}},mutations:{setDragBoxMaskStatus:function(t,e){t.dragBoxMaskStatus=e.status,t.dragBoxMaskCursor=e.cursor,t.mouseX=e.mouseX||"",t.mouseY=e.mouseY||"",t.sign=e.sign||""},setMovePosition:function(t,e){t.mousemoveX=e.mousemoveX-t.mouseX,t.mousemoveY=e.mousemoveY-t.mouseY}},actions:{}}},"1dd2":function(t,e,i){},2135:function(t,e,i){},"225e":function(t,e,i){"use strict";var n=i("f5ad"),o=i.n(n);o.a},"26a5":function(t,e,i){},2730:function(t,e,i){"use strict";var n=i("c44a"),o=i.n(n);o.a},"2dbb":function(t,e,i){"use strict";var n=i("f085"),o=i.n(n);o.a},3543:function(t,e,i){},3653:function(t,e,i){},"3fee":function(t,e,i){},"4c7e":function(t,e,i){},"4ceb":function(t,e,i){},5475:function(t,e,i){"use strict";var n=i("d146"),o=i.n(n);o.a},"567f":function(t,e){t.exports={test:function(){console.log(1)}}},"56d7":function(t,e,i){"use strict";i.r(e);i("b0c0"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("5c96"),o=i.n(n),r=(i("0fae"),i("5488")),a=i.n(r),s=(i("4c7e"),i("1dd2"),i("a026")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icon-container",style:{"font-size":t.size,color:t.color}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":t.code}})])])},l=[],u={name:"mmd-icon",props:{code:{type:String},size:{type:String},color:{type:String}},data:function(){return{}},mounted:function(){},beforeDestroy:function(){}},f=u,d=(i("0d20"),i("2877")),m=Object(d["a"])(f,c,l,!1,null,null,null),h=m.exports,g=function(t){t.component(h.name,h)},p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"progress-container"},[i("el-dialog",{attrs:{title:"正在加载："+t.name,visible:t.visible,width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,center:""},on:{"update:visible":function(e){t.visible=e}}},[i("el-progress",{attrs:{"stroke-width":10,percentage:t.percentage,color:t.colors}})],1)],1)},v=[],b={name:"mmd-progress",data:function(){return{name:"",visible:!1,percentage:0,colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}]}},methods:{showProgress:function(){var t=this;this.percentage=0,this.$nextTick((function(){t.visible=!0}))},setName:function(t){this.name=t},setPercentage:function(t){this.percentage=t>=0&&t<=100?t:100},setColor:function(t){this.color=t}},watch:{percentage:function(t,e){var i=this;t>=100&&setTimeout((function(){i.visible=!1}),2e3)}}},x=b,w=Object(d["a"])(x,p,v,!1,null,"6a1aab0e",null),k=w.exports,B=s["default"].extend(k);k.init=function(){var t=new B({el:document.createElement("div")});return document.body.appendChild(t.$el),t};var S=k,C=function(t){t.component(S.name,S)},D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MMD-select-container config-box"},[t.keyframe?i("div",{staticClass:"config-keyframe"},[i("mmd-icon",{attrs:{code:"#icon-anniu-guanjianzhen"}})],1):t._e(),i("div",{staticClass:"config-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"config-component"},[i("el-select",{attrs:{value:t.value,size:"mini",placeholder:"请选择"},on:{change:t.change}},t._l(t.options,(function(e,n){return i("el-option",{key:n,attrs:{label:e[t.prop.label],value:e[t.prop.value]}})})),1)],1)])},M=[],y={name:"MMD-select",props:{keyframe:Boolean,title:{type:String,default:"MMD-select"},prop:{type:Object,default:function(){return{label:"label",value:"value"}}},options:Array,value:null},methods:{change:function(t){this.$emit("input",t)}}},$=y,T=(i("9195"),Object(d["a"])($,D,M,!1,null,"317b423f",null)),W=T.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MMD-color-container config-box"},[t.keyframe?i("div",{staticClass:"config-keyframe"},[i("mmd-icon",{attrs:{code:"#icon-anniu-guanjianzhen"}})],1):t._e(),i("div",{staticClass:"config-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"config-component"},[i("div",{staticClass:"component-box"},[i("el-input",{attrs:{size:"mini"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),i("el-color-picker",{attrs:{"color-format":"rgb",value:t.value},on:{change:t.change}})],1)])])},_=[],z={name:"MMD-color",props:{keyframe:Boolean,title:{type:String,default:"MMD-color"},value:null},computed:{inputValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{change:function(t){this.$emit("input",t)}}},L=z,j=(i("92e0"),Object(d["a"])(L,E,_,!1,null,"4992ec2a",null)),V=j.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MMD-input-container config-box"},[t.keyframe?i("div",{staticClass:"config-keyframe"},[i("mmd-icon",{attrs:{code:"#icon-anniu-guanjianzhen"}})],1):t._e(),i("div",{staticClass:"config-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"config-component"},[i("el-input",{attrs:{size:"mini"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1)])},N=[],P={name:"MMD-input",props:{keyframe:Boolean,title:{type:String,default:"MMD-input"},value:null},computed:{inputValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},A=P,H=(i("63f7"),Object(d["a"])(A,O,N,!1,null,"48f04af9",null)),R=H.exports,X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MMD-switch-container config-box"},[t.keyframe?i("div",{staticClass:"config-keyframe"},[i("mmd-icon",{attrs:{code:"#icon-anniu-guanjianzhen"}})],1):t._e(),i("div",{staticClass:"config-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"config-component"},[i("el-switch",{model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1)])},Y=[],G={name:"MMD-switch",props:{keyframe:Boolean,title:{type:String,default:"MMD-switch"},value:null},computed:{inputValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},I=G,F=(i("fc22"),Object(d["a"])(I,X,Y,!1,null,"eb87e966",null)),U=F.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MMD-slider-container config-box"},[t.keyframe?i("div",{staticClass:"config-keyframe"},[i("mmd-icon",{attrs:{code:"#icon-anniu-guanjianzhen"}})],1):t._e(),i("div",{staticClass:"config-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"config-component"},[i("div",{staticClass:"component-box"},[i("div",{staticClass:"slider-head",domProps:{textContent:t._s(t.min)}}),i("el-slider",{attrs:{min:t.min,max:t.max,step:t.step},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),i("div",{staticClass:"slider-foot",domProps:{textContent:t._s(t.max)}}),i("el-input",{attrs:{size:"mini"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1)])])},q=[],J=(i("a9e3"),{name:"MMD-slider",props:{keyframe:Boolean,title:{type:String,default:"MMD-slider"},value:null,min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1}},computed:{inputValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}}),Q=J,Z=(i("5475"),Object(d["a"])(Q,K,q,!1,null,"71654227",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MMD-number-container config-box"},[t.keyframe?i("div",{staticClass:"config-keyframe"},[i("mmd-icon",{attrs:{code:"#icon-anniu-guanjianzhen"}})],1):t._e(),i("div",{staticClass:"config-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"config-component"},[i("el-input-number",{attrs:{"controls-position":"right",size:"mini",min:t.min,max:t.max,step:t.step},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1)])},it=[],nt={name:"MMD-number",props:{keyframe:Boolean,title:{type:String,default:"MMD-number"},value:null,min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1}},computed:{inputValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},ot=nt,rt=(i("eb44"),Object(d["a"])(ot,et,it,!1,null,"d11e21a6",null)),at=rt.exports,st=function(t){t.component(W.name,W),t.component(V.name,V),t.component(R.name,R),t.component(U.name,U),t.component(tt.name,tt),t.component(at.name,at)};s["default"].use(g),s["default"].use(C),s["default"].use(st);var ct=i("567f"),lt=i.n(ct),ut=new s["default"],ft=ut,dt=(i("d3b7"),i("bc3a")),mt=i.n(dt),ht={},gt=mt.a.create(ht);gt.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),gt.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=gt,window.axios=gt,Object.defineProperties(t.prototype,{axios:{get:function(){return gt}},$axios:{get:function(){return gt}}})},s["default"].use(Plugin);Plugin;var pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("editor")],1)},vt=[],bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"eidtor-container"},[i("div",{staticClass:"editor-top",style:{height:t.$store.getters.getTopNavHeight+"px"}},[i("top-nav")],1),i("div",{staticClass:"editor-middle"},[i("drag-box",{attrs:{rightDrag:"",width:t.leftDragBoxWidth,height:t.middleDragBoxHeight,sign:"left"}},[[i("left-nav")]],2),i("div",{ref:"editor-view",staticClass:"editor-view",style:{width:t.editorViewWidth+"px",height:t.editorViewHeight+"px"}},[i("editor-view",{attrs:{width:t.editorViewWidth,height:t.editorViewHeight}})],1),i("drag-box",{attrs:{leftDrag:"",width:t.rightDragBoxWidth,height:t.middleDragBoxHeight,sign:"right"}},[[i("right-nav")]],2)],1),i("div",{ref:"bottomBox",staticClass:"editor-bottom"},[i("drag-box",{attrs:{topDrag:"",height:t.bottomDragBoxHeight,sign:"bottom"}},[[i("bottom-nav")]],2)],1),i("drag-box-mask")],1)},xt=[],wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dragBox-contaner",style:{width:t.width,height:t.height}},[t.topDrag?i("div",{staticClass:"dragBox-topDrag",on:{mousedown:function(e){return t.dragStart(e,"top")}}},[i("dragSignalRow")],1):t._e(),i("div",{staticClass:"dragBox-middleBox",style:{height:t.topDrag?"calc(100% - 20px)":"100%"}},[t.leftDrag?i("div",{staticClass:"dragBox-leftDrag",on:{mousedown:function(e){return t.dragStart(e,"left")}}},[i("dragSignalColumn")],1):t._e(),i("div",{staticClass:"dragBox-display"},[t._t("default")],2),t.rightDrag?i("div",{staticClass:"dragBox-rightDrag",on:{mousedown:function(e){return t.dragStart(e,"right")}}},[i("dragSignalColumn")],1):t._e()]),t.bottomDrag?i("div",{staticClass:"dragBox-bottomDrag",on:{mousedown:function(e){return t.dragStart(e,"bottom")}}},[i("dragSignalRow")],1):t._e()])},kt=[],Bt={props:{sign:{type:String},width:{type:String,default:"100%"},height:{type:String,default:"100%"},topDrag:{type:Boolean,default:!1},leftDrag:{type:Boolean,default:!1},rightDrag:{type:Boolean,default:!1},bottomDrag:{type:Boolean,default:!1}},components:{dragSignalRow:{template:'\n      <div class="dragBox-dragSignalRow">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n      '},dragSignalColumn:{template:'\n      <div class="dragBox-dragSignalColumn">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n      '}},data:function(){return{}},methods:{dragStart:function(t,e){"right"===e||"left"===e?this.$store.commit("setDragBoxMaskStatus",{status:!0,cursor:"ew-resize",mouseX:t.clientX,mouseY:t.clientY,sign:this.sign}):this.$store.commit("setDragBoxMaskStatus",{status:!0,cursor:"ns-resize",mouseX:t.clientX,mouseY:t.clientY,sign:this.sign})}}},St=Bt,Ct=(i("131b"),Object(d["a"])(St,wt,kt,!1,null,"7a90ff6e",null)),Dt=Ct.exports,Mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.draging,expression:"draging"}],staticClass:"dragBoxMask-container",style:{cursor:t.dragCursor},on:{mouseup:t.dragEnd,mousemove:t.mousemove}})},yt=[],$t={data:function(){return{}},computed:{draging:function(){return this.$store.getters.getDragBoxMaskStatus},dragCursor:function(){return this.$store.getters.getDragBoxMaskCursor}},methods:{dragEnd:function(t){this.$store.commit("setDragBoxMaskStatus",{status:!1,cursor:"unset"})},mousemove:function(t){this.$store.commit("setMovePosition",{mousemoveX:t.clientX,mousemoveY:t.clientY})}}},Tt=$t,Wt=(i("59f8"),Object(d["a"])(Tt,Mt,yt,!1,null,"02c1a65c",null)),Et=Wt.exports,_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topNav-container"},[i("top-config"),i("help-document"),i("notice"),i("add-new")],1)},zt=[],Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topConfig-container"},t._l(t.config,(function(e){return i("el-dropdown",{key:e.name,attrs:{trigger:"click",placement:"bottom-start"},on:{command:t.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("mmd-icon",{attrs:{code:e.icon}}),i("span",{domProps:{textContent:t._s(e.desp)}})],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(e.operate,(function(e){return i("el-dropdown-item",{key:e.name,attrs:{command:e.run}},[i("span",{staticClass:"operate-name",domProps:{textContent:t._s(e.desp)}}),i("span",{staticClass:"key-combination",domProps:{textContent:t._s(t.getKeyCombination(e.shortcut))}})])})),1)],1)})),1)},jt=[],Vt=(i("4160"),i("fb6a"),i("159b"),{computed:{config:function(){return this.$store.getters.getTopConfig}},methods:{getKeyCombination:function(t){if(t[0]){var e="";return t.forEach((function(t){e+="".concat(t," + ")})),e=e.slice(0,-3),e}},handleCommand:function(t){t&&t()}}}),Ot=Vt,Nt=(i("618e"),Object(d["a"])(Ot,Lt,jt,!1,null,"369b6e70",null)),Pt=Nt.exports,At=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"notice-container"},[i("el-dialog",{attrs:{title:"更新公告",width:"500px",center:"",visible:t.$store.state.topNav.noticeVisible},on:{"update:visible":function(e){return t.$set(t.$store.state.topNav,"noticeVisible",e)}}},[i("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":{padding:0}}},t._l(t.notice,(function(e,n){return i("div",{key:e,staticClass:"notice-item",domProps:{textContent:t._s(n+1+"、"+e)}})})),0)],1)],1)},Ht=[],Rt={data:function(){return{notice:["增加相机视角","增加专属配置","增加全局阴影","优化渲染器色泽"]}}},Xt=Rt,Yt=(i("5c1e"),Object(d["a"])(Xt,At,Ht,!1,null,"4a3d235f",null)),Gt=Yt.exports,It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addNew-container"},[i("el-dialog",{attrs:{title:"新建文件",width:"500px",center:"",visible:t.$store.state.topNav.addNewVisible},on:{"update:visible":function(e){return t.$set(t.$store.state.topNav,"addNewVisible",e)}}},[i("el-tabs",{attrs:{type:"card"},model:{value:t.confgTab,callback:function(e){t.confgTab=e},expression:"confgTab"}},[i("el-tab-pane",{attrs:{label:"基础",name:"first"}},[i("el-form",{attrs:{model:t.form,"label-width":"100px","label-position":"left"}},[i("el-form-item",{attrs:{label:"名称"}},[i("el-input",{attrs:{clearable:"",size:"mini",autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"帧率"}},[i("el-select",{attrs:{size:"mini"},model:{value:t.form.fps,callback:function(e){t.$set(t.form,"fps",e)},expression:"form.fps"}},[i("el-option",{attrs:{label:"8",value:8}}),i("el-option",{attrs:{label:"12",value:12}}),i("el-option",{attrs:{label:"15",value:15}}),i("el-option",{attrs:{label:"24",value:24}}),i("el-option",{attrs:{label:"25",value:25}}),i("el-option",{attrs:{label:"30",value:30}}),i("el-option",{attrs:{label:"50",value:50}}),i("el-option",{attrs:{label:"60",value:60}})],1)],1),i("el-form-item",{attrs:{label:"时长"}},[i("el-time-picker",{attrs:{size:"mini",format:"HH:mm:ss","value-format":"HH:mm:ss",placeholder:"选择时长"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1),i("el-form-item",{attrs:{label:"背景色"}},[i("el-color-picker",{attrs:{"color-format":"rgb",size:"mini"},model:{value:t.form.bgColor,callback:function(e){t.$set(t.form,"bgColor",e)},expression:"form.bgColor"}})],1)],1)],1),i("el-tab-pane",{attrs:{label:"高级",name:"second"}},[i("el-form",{attrs:{model:t.form,"label-width":"100px","label-position":"left"}},[i("el-form-item",{attrs:{label:"阴影渲染"}},[i("el-switch",{model:{value:t.form["shadowMap.enabled"],callback:function(e){t.$set(t.form,"shadowMap.enabled",e)},expression:"form['shadowMap.enabled']"}})],1),i("el-form-item",{attrs:{label:"阴影类型"}},[i("el-select",{attrs:{size:"mini"},model:{value:t.form["shadowMap.type"],callback:function(e){t.$set(t.form,"shadowMap.type",e)},expression:"form['shadowMap.type']"}},[i("el-option",{attrs:{label:"BasicShadowMap",value:"BasicShadowMap"}}),i("el-option",{attrs:{label:"PCFShadowMap",value:"PCFShadowMap"}}),i("el-option",{attrs:{label:"PCFSoftShadowMap",value:"PCFSoftShadowMap"}}),i("el-option",{attrs:{label:"VSMShadowMap",value:"VSMShadowMap"}})],1)],1),i("el-form-item",{attrs:{label:"色调映射"}},[i("el-select",{attrs:{size:"mini"},model:{value:t.form.toneMapping,callback:function(e){t.$set(t.form,"toneMapping",e)},expression:"form.toneMapping"}},[i("el-option",{attrs:{label:"NoToneMapping",value:"NoToneMapping"}}),i("el-option",{attrs:{label:"LinearToneMapping",value:"LinearToneMapping"}}),i("el-option",{attrs:{label:"ReinhardToneMapping",value:"ReinhardToneMapping"}}),i("el-option",{attrs:{label:"CineonToneMapping",value:"CineonToneMapping"}})],1)],1),i("el-form-item",{attrs:{label:"映射曝光"}},[i("el-input-number",{attrs:{"controls-position":"right",size:"mini",step:.1},model:{value:t.form.toneMappingExposure,callback:function(e){t.$set(t.form,"toneMappingExposure",e)},expression:"form.toneMappingExposure"}})],1),i("el-form-item",{attrs:{label:"输出编码"}},[i("el-select",{attrs:{size:"mini"},model:{value:t.form.outputEncoding,callback:function(e){t.$set(t.form,"outputEncoding",e)},expression:"form.outputEncoding"}},[i("el-option",{attrs:{label:"LinearEncoding",value:"LinearEncoding"}}),i("el-option",{attrs:{label:"sRGBEncoding",value:"sRGBEncoding"}}),i("el-option",{attrs:{label:"RGBEEncoding",value:"RGBEEncoding"}}),i("el-option",{attrs:{label:"LogLuvEncoding",value:"LogLuvEncoding"}}),i("el-option",{attrs:{label:"RGBM7Encoding",value:"RGBM7Encoding"}}),i("el-option",{attrs:{label:"RGBM16Encoding",value:"RGBM16Encoding"}}),i("el-option",{attrs:{label:"RGBDEncoding",value:"RGBDEncoding"}}),i("el-option",{attrs:{label:"BasicDepthPacking",value:"BasicDepthPacking"}}),i("el-option",{attrs:{label:"RGBADepthPacking",value:"RGBADepthPacking"}})],1)],1)],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(e){return t.$store.commit("setAddNewVisiable",!1)}}},[t._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.confirmNew}},[t._v("确 定")])],1)],1)],1)},Ft=[],Ut={data:function(){return{confgTab:"first",form:{name:"文件1",fps:30,time:"00:04:00",bgColor:"rgb(0, 0, 0)",toneMapping:"NoToneMapping",toneMappingExposure:1,"shadowMap.enabled":!0,"shadowMap.type":"PCFSoftShadowMap",outputEncoding:"LinearEncoding"}}},methods:{confirmNew:function(){MMD.init(),MMD.setRenderer(this.form),MMD.setAnimationConfig(this.form),this.$store.commit("setAddNewVisiable",!1),this.$store.commit("setEditorCanEdit",!0)}}},Kt=Ut,qt=(i("dbc4"),Object(d["a"])(Kt,It,Ft,!1,null,"1d1d8886",null)),Jt=qt.exports,Qt=function(){return i.e("chunk-2d0d7111").then(i.bind(null,"74db"))},Zt={components:{topConfig:Pt,helpDocument:Qt,notice:Gt,addNew:Jt}},te=Zt,ee=(i("0726"),Object(d["a"])(te,_t,zt,!1,null,"3de3c23b",null)),ie=ee.exports,ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"leftNav-container"},[i("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"基础元件",name:"first"}},[t.$store.getters.getEditorCanEdit?i("basic-element"):t._e()],1),i("el-tab-pane",{attrs:{label:"插件库",name:"second"}},[t.$store.getters.getEditorCanEdit?i("plugins-library"):t._e()],1),i("el-tab-pane",{attrs:{label:"模型库",name:"third"}},[t.$store.getters.getEditorCanEdit?i("models-library"):t._e()],1)],1)],1)},oe=[],re=function(){return Promise.all([i.e("chunk-87f927da"),i.e("chunk-d4341f88")]).then(i.bind(null,"bf3e"))},ae=function(){return Promise.all([i.e("chunk-87f927da"),i.e("chunk-1cc18f8a")]).then(i.bind(null,"a449"))},se=function(){return i.e("chunk-2d0f0a02").then(i.bind(null,"9cbd"))},ce={data:function(){return{activeName:"first"}},components:{basicElement:re,modelsLibrary:ae,pluginsLibrary:se}},le=ce,ue=(i("92b3"),Object(d["a"])(le,ne,oe,!1,null,"4f65e1a7",null)),fe=ue.exports,de=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right-container"},[i("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"材质",name:"first"}},[i("material")],1),i("el-tab-pane",{attrs:{label:"场景结构",name:"second"}},[t.$store.getters.getEditorCanEdit?i("scene-structure"):t._e()],1),i("el-tab-pane",{attrs:{label:"专属配置",name:"third"}},[t.$store.getters.getEditorCanEdit?i("exclusive-config"):t._e()],1)],1)],1)},me=[],he=function(){return i.e("chunk-200ecf11").then(i.bind(null,"a76f"))},ge=function(){return i.e("chunk-5f41c158").then(i.bind(null,"194e"))},pe=function(){return i.e("chunk-4b4bcb48").then(i.bind(null,"d1d6"))},ve={components:{exclusiveConfig:he,material:ge,sceneStructure:pe},data:function(){return{activeName:"first"}},watch:{"$store.getters.getToExclusive":function(t,e){this.activeName=t?"third":"first"}}},be=ve,xe=(i("fad2"),Object(d["a"])(be,de,me,!1,null,"60f84e11",null)),we=xe.exports,ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bottomNav-container"},[i("operation-control",{attrs:{width:t.operationControlSetting.size}}),i("track-control")],1)},Be=[],Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"operatonControl-container"},[i("drag-box",{attrs:{rightDrag:"",sign:"operation",width:t.width+"px"}},[[i("operation-general"),i("operation-main")]],2)],1)},Ce=[],De=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"operationMain-container"},[i("div",{staticClass:"operationMain-title-box"},[i("div",{staticClass:"operation-helper"},[i("mmd-icon",{attrs:{code:"#icon-kejian",title:"可见"}}),i("mmd-icon",{attrs:{code:"#icon-lock",title:"操作"}}),i("mmd-icon",{attrs:{code:"#icon-yuanxing",title:"独奏"}}),i("mmd-icon",{attrs:{code:"#icon-shengyin",title:"声音"}})],1),i("div",{staticClass:"operation-id"},[i("mmd-icon",{attrs:{code:"#icon-biaoqian"}})],1),i("div",{staticClass:"operation-name"},[i("mmd-icon",{attrs:{code:"#icon-chongmingming"}}),i("span",[t._v("名称")])],1),i("div",{staticClass:"operation-father"},[i("mmd-icon",{attrs:{code:"#icon-fujimoxing"}}),i("span",[t._v("父级")])],1)]),i("div",{ref:"item-box",staticClass:"operationMain-item-box",on:{scroll:t.scroll}},t._l(t.operationItemList,(function(e,n){return i("div",{key:n,staticClass:"operationMain-item",class:{"operationMain-item-chouse":e.chouse},on:{click:function(i){return t.chouseObject(e)}}},[i("div",{staticClass:"item-helper"},[i("div",{staticClass:"item-helper-checkBox"},[i("mmd-icon",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"item.visible"}],attrs:{code:"#icon-kejian",title:"可见"}})],1),i("div",{staticClass:"item-helper-checkBox"},[i("mmd-icon",{directives:[{name:"show",rawName:"v-show",value:e.lock,expression:"item.lock"}],attrs:{code:"#icon-lock",title:"操作"}})],1),i("div",{staticClass:"item-helper-checkBox"},[i("mmd-icon",{directives:[{name:"show",rawName:"v-show",value:e.solo,expression:"item.solo"}],attrs:{code:"#icon-yuanxing",title:"独奏"}})],1),i("div",{staticClass:"item-helper-checkBox"},[i("mmd-icon",{directives:[{name:"show",rawName:"v-show",value:e.voice,expression:"item.voice"}],attrs:{code:"#icon-shengyin",title:"声音"}})],1)]),i("div",{staticClass:"item-id"},[i("mmd-icon",{attrs:{code:"#icon-arrow-right"}}),i("span",{domProps:{textContent:t._s(e.id)}})],1),i("div",{staticClass:"item-name"},[i("span",{domProps:{textContent:t._s(e.name)}})]),i("div",{staticClass:"item-father"},[i("el-select",{attrs:{size:"mini"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.operationItemList,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),1)],1)])})),0)])},Me=[],ye={data:function(){return{value:""}},computed:{operationItemList:function(){return this.$store.getters.getMMDObjectList}},methods:{scroll:function(t){this.$store.commit("setItemBoxScrollTop",this.$refs["item-box"].scrollTop)},chouseObject:function(t){MMD.setCurrentObject(t.id)}}},$e=ye,Te=(i("a80b"),Object(d["a"])($e,De,Me,!1,null,"a4f97a0a",null)),We=Te.exports,Ee=function(){return i.e("chunk-f8bf44fa").then(i.bind(null,"b626"))},_e={props:{width:Number},components:{dragBox:Dt,operationGeneral:Ee,operationMain:We}},ze=_e,Le=(i("d1d5"),Object(d["a"])(ze,Se,Ce,!1,null,"7c891755",null)),je=Le.exports,Ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trackControl-container"},[i("view-track")],1)},Oe=[],Ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"viewTrack-container",style:{width:t.viewTrackWidth+"px"}},[i("div",{staticClass:"viewTrack-track"},[i("div",{staticClass:"track-scroll",style:{left:t.scrollLeft+"px"}},[i("div",{staticClass:"scroll-arrow",on:{mousedown:t.scrollArrowLeft}}),i("div",{staticClass:"scroll-bar",style:{width:t.scrollWidth+"px"},on:{mousedown:t.scrollTrack}}),i("div",{staticClass:"scroll-arrow",on:{mousedown:t.scrollArrowRight}})])]),i("div",{ref:"viewDom",staticClass:"viewTrack-view"},[i("div",{staticClass:"viewTrack-view-main"},[i("div",{staticClass:"viewTrack-view-box",style:{width:t.viewWidth+"px"}},[i("time-axis",{attrs:{viewWidth:t.viewWidth,totalTime:t.totalTime,viewScale:t.viewScale,viewSegment:t.viewSegment,fps:t.fps}}),i("render-area")],1)])])])},Pe=[],Ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timeAxis-container"},[i("div",{staticClass:"timeAxis-main"},[i("div",{staticClass:"timeAxis-box-list",on:{click:t.toTimeAxis}},t._l(t.timeAxisList,(function(e,n){return i("div",{key:n,staticClass:"timeAxis-box",style:{left:e.style+"%"}},[i("div",{staticClass:"time",domProps:{textContent:t._s(e.text)}}),i("div",{staticClass:"axis"},[t._v("|")])])})),0),i("div",{staticClass:"timeAxis-pointer",style:{left:t.pointerPosition}},[i("div",{staticClass:"pointer-header"},[i("mmd-icon",{attrs:{code:"#icon-zhencopy",color:"yellow"}})],1)]),i("div",{staticClass:"renderArea-mask"}),i("keyframe-track")],1)])},He=[],Re=(i("45fc"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"keyframeTrack-container"},[i("div",{ref:"keyframeTrack-box",staticClass:"keyframeTrack-box"},t._l(t.trackList,(function(e,n){return i("div",{key:n,staticClass:"keyframeTrack-item",class:{"keyframeTrack-item-chouse":e.chouse},style:{background:e.trackColor,width:e.duration+"%"},on:{click:function(i){return t.chouseObject(e)}}})})),0)])}),Xe=[],Ye={data:function(){return{}},computed:{trackList:function(){return this.$store.getters.getMMDObjectList}},methods:{chouseObject:function(t){MMD.setCurrentObject(t.id)}},watch:{"$store.getters.getItemBoxScrollTop":function(t,e){this.$refs["keyframeTrack-box"].scrollTop=t}}},Ge=Ye,Ie=(i("6423"),Object(d["a"])(Ge,Re,Xe,!1,null,"cdf19e04",null)),Fe=Ie.exports,Ue={components:{keyframeTrack:Fe},props:{viewScale:Number,fps:Number,totalTime:Number,viewWidth:Number},data:function(){return{}},computed:{frameMultiplyList:function(){var t=[],e=[1,2,4,5,10,15,30,60],i=this.totalTime/1e3,n=0,o=0,r=0;n=Math.floor(i/3600),i-=3600*n,o=Math.floor(i/60),i-=60*o,r=i;var a=function(i,n){n?e.forEach((function(e){n>e&&t.push(e*(i||1))})):e.forEach((function(e){t.push(e*(i||1))}))};return n>0?(a(1,this.fps),a(this.fps),a(60*this.fps),a(3600*this.fps,n)):o>0?(a(1,this.fps),a(this.fps),a(60*this.fps,o)):r>0&&(a(1,this.fps),a(this.fps,r)),t},frameMultiply:function(){var t=this,e=0;return 1===this.viewScale?e=1:this.frameMultiplyList.some((function(i,n,o){if(t.viewScale<=1/i&&t.viewScale>1/o[n+1]){var r=o[n+1];return e=r,!0}})),e},totalSegments:function(){return this.totalTime/1e3*this.fps},viewSegments:function(){return 1*this.totalSegments/this.frameMultiply},timeAxisList:function(){var t=this,e=[],i=function(){};this.frameMultiply<this.fps?i=function(e){var i=e%t.fps;return 0===i&&0!==e&&(i=30),"".concat(i,"f")}:this.frameMultiply>=this.fps&&this.frameMultiply<60*this.fps?i=function(e){var i=e/t.fps;return i>60&&(i=i%60||60),"".concat(i,"s")}:this.frameMultiply>=60*this.fps&&this.frameMultiply<3600*this.fps&&(i=function(e){var i=e/(60*t.fps);return console.log(e,i),i>60&&(i=i%60||60),"".concat(i,"m")});for(var n=0;n<=this.viewSegments;n+=1)e.push({text:i(n*this.frameMultiply),style:n/this.viewSegments*100});return e},pointerPosition:function(){var t=this.$store.getters.getClipCurrentTime;return"".concat(t/this.totalTime*100,"%")}},methods:{toTimeAxis:function(t){var e=t.offsetX/this.viewWidth*(this.totalTime/1e3);MMD.setCurrentTime(e)}},mounted:function(){}},Ke=Ue,qe=(i("da7e"),Object(d["a"])(Ke,Ae,He,!1,null,"1f95845a",null)),Je=qe.exports,Qe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ze=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"renderArea-container"},[i("div",{staticClass:"renderArea-main"}),i("div",{staticClass:"renderArea-area-box"},[i("div",{staticClass:"box-arrow"}),i("div",{staticClass:"box-scroll"}),i("div",{staticClass:"box-arrow"})])])}],ti={},ei=ti,ii=(i("c0f7"),Object(d["a"])(ei,Qe,Ze,!1,null,"3f84aaf8",null)),ni=ii.exports,oi={components:{timeAxis:Je,renderArea:ni},data:function(){return{scrollScale:1,scrollLeft:0,scrollWidthBUffer:0,scrollLeftBuffer:0,viewWidth:100,viewSegment:24,boxWatch:""}},computed:{trackWidth:function(){return this.$store.getters.getViewTrackWidth-30},frameSpacing:function(){return this.trackWidth/this.viewSegment},viewTrackWidth:function(){return this.$store.getters.getViewTrackWidth},viewScale:function(){return this.viewWidth/this.viewTotalWidth},scrollWidth:{get:function(){return this.scrollScale*this.trackWidth},set:function(t){this.scrollScale=t/this.trackWidth}},totalTime:function(){return this.$store.getters.getTotalTime||0},fps:function(){return this.$store.getters.getFps||30},viewTotalWidth:function(){return this.totalTime/1e3*this.fps*this.frameSpacing},minScrollScale:function(){return this.trackWidth/this.viewTotalWidth},getClipCurrentTime:function(){return this.$store.getters.getClipCurrentTime}},methods:{calcViewWidth:function(){this.viewWidth=this.trackWidth+this.trackWidth*(1-this.scrollScale)/this.scrollScale,this.viewWidth>this.viewTotalWidth&&this.viewTotalWidth>0&&(this.viewWidth=this.viewTotalWidth)},scrollTrack:function(t){this.$store.commit("setDragBoxMaskStatus",{status:!0,cursor:"pointer",mouseX:t.clientX,mouseY:t.clientY,sign:"viewTrack"})},scrollArrowLeft:function(t){this.$store.commit("setDragBoxMaskStatus",{status:!0,cursor:"ew-resize",mouseX:t.clientX,mouseY:t.clientY,sign:"viewTracKscrollArrowLeft"})},scrollArrowRight:function(t){this.$store.commit("setDragBoxMaskStatus",{status:!0,cursor:"ew-resize",mouseX:t.clientX,mouseY:t.clientY,sign:"viewTracKscrollArrowRight"})}},watch:{"$store.state.dragBox.sign":function(t,e){var i=this;t?"viewTrack"===t?this.boxWatch=this.$watch("$store.state.dragBox.mousemoveX",(function(t){i.scrollLeft=i.scrollLeftBuffer+t,i.scrollLeft<0&&(i.scrollLeft=0),i.scrollLeft+i.scrollWidth>i.trackWidth&&(i.scrollLeft=i.trackWidth-i.scrollWidth)})):"viewTracKscrollArrowLeft"===t?(this.scrollWidthBUffer=this.scrollWidth,this.boxWatch=this.$watch("$store.state.dragBox.mousemoveX",(function(t){i.scrollLeft=i.scrollLeftBuffer+t,i.scrollWidth=i.scrollWidthBUffer-t,i.viewTotalWidth>0?i.scrollWidth<i.trackWidth*i.trackWidth/i.viewTotalWidth&&(i.scrollWidth=i.trackWidth*i.trackWidth/i.viewTotalWidth):i.scrollWidth<0&&(i.scrollWidth=0,i.scrollLeft=i.scrollLeftBuffer+i.scrollWidthBUffer),i.scrollLeft<0&&(i.scrollLeft=0,i.scrollWidth=i.scrollWidthBUffer+i.scrollLeftBuffer),i.scrollLeft+i.scrollWidth>i.trackWidth&&(i.scrollLeft=i.trackWidth-i.scrollWidth)}))):"viewTracKscrollArrowRight"===t&&(this.scrollWidthBUffer=this.scrollWidth,this.boxWatch=this.$watch("$store.state.dragBox.mousemoveX",(function(t){i.scrollWidth=i.scrollWidthBUffer+t,i.scrollWidth<0&&(i.scrollWidth=0),i.scrollLeftBuffer+i.scrollWidth>i.trackWidth&&(i.scrollWidth=i.trackWidth-i.scrollLeftBuffer)}))):(this.boxWatch&&this.boxWatch(),this.scrollLeftBuffer=this.scrollLeft)},scrollLeft:function(t){this.$refs.viewDom.scrollTo({top:0,left:t*this.viewWidth/this.trackWidth})},viewTrackWidth:function(t){this.calcViewWidth()},scrollWidth:function(t){this.calcViewWidth(),this.$refs.viewDom.scrollTo({top:0,left:this.scrollLeft*this.viewWidth/this.trackWidth})},scrollScale:function(t){this.viewTotalWidth>0&&t<this.minScrollScale&&(this.scrollScale=this.minScrollScale)}}},ri=oi,ai=(i("fa25"),Object(d["a"])(ri,Ne,Pe,!1,null,"58629a86",null)),si=ai.exports,ci={components:{viewTrack:si}},li=ci,ui=(i("2730"),Object(d["a"])(li,Ve,Oe,!1,null,"e575f174",null)),fi=ui.exports,di={components:{operationControl:je,trackControl:fi},data:function(){return{operationControlWidthBuffer:"",boxWatch:""}},computed:{operationControlSetting:function(){return this.$store.getters.getOperationControlSetting}},created:function(){this.operationControlWidthBuffer=this.operationControlSetting.size},watch:{"$store.state.dragBox.sign":function(t,e){var i=this;t?"operation"===t&&(this.boxWatch=this.$watch("$store.state.dragBox.mousemoveX",(function(t){var e=i.operationControlWidthBuffer+t;e>i.operationControlSetting.max&&(e=i.operationControlSetting.max),e<i.operationControlSetting.min&&(e=i.operationControlSetting.min),i.operationControlSetting.size=e,i.$store.commit("setViewTrackWidth")}))):(this.boxWatch&&this.boxWatch(),"operation"===e&&(this.operationControlWidthBuffer=this.operationControlSetting.size))}},mounted:function(){this.$store.commit("setViewTrackWidth")}},mi=di,hi=(i("bc47"),Object(d["a"])(mi,ke,Be,!1,null,"2008eb9a",null)),gi=hi.exports,pi=function(){return Promise.all([i.e("chunk-87f927da"),i.e("chunk-6323d016")]).then(i.bind(null,"1033"))},vi={components:{dragBox:Dt,dragBoxMask:Et,topNav:ie,leftNav:fe,rightNav:we,editorView:pi,bottomNav:gi},data:function(){return{boxWatch:"",editorViewWidth:"",editorViewHeight:""}},computed:{rightDragBoxSizeBuffer:function(){return this.$store.getters.getRightDragBoxSizeBuffer},leftDragBoxSizeBuffer:function(){return this.$store.getters.getLeftDragBoxSizeBuffer},bottomDragBoxSizeButter:function(){return this.$store.getters.getBottomDragBoxSizeButter},rightDragBoxSetting:function(){return this.$store.getters.getRightDragBoxSetting},leftDragBoxSetting:function(){return this.$store.getters.getLeftDragBoxSetting},bottomDragBoxSetting:function(){return this.$store.getters.getBottomDragBoxSetting},rightDragBoxWidth:function(){return"".concat(this.rightDragBoxSetting.size,"px")},middleDragBoxHeight:function(){return"".concat(this.editorViewHeight,"px")},leftDragBoxWidth:function(){return"".concat(this.leftDragBoxSetting.size,"px")},bottomDragBoxHeight:function(){return"".concat(this.bottomDragBoxSetting.size,"px")}},methods:{resetEditorViewSize:function(){this.editorViewWidth=window.innerWidth-(this.leftDragBoxSetting.size+this.rightDragBoxSetting.size),this.editorViewHeight=window.innerHeight-(this.bottomDragBoxSetting.size+this.$store.getters.getTopNavHeight)}},watch:{"$store.state.dragBox.sign":function(t,e){var i=this;t?"left"===t?this.boxWatch=this.$watch("$store.state.dragBox.mousemoveX",(function(t){var e=i.leftDragBoxSizeBuffer+t;e>i.leftDragBoxSetting.max&&(e=i.leftDragBoxSetting.max),e<i.leftDragBoxSetting.min&&(e=i.leftDragBoxSetting.min),i.leftDragBoxSetting.size=e})):"right"===t?this.boxWatch=this.$watch("$store.state.dragBox.mousemoveX",(function(t){var e=i.rightDragBoxSizeBuffer-t;e>i.rightDragBoxSetting.max&&(e=i.rightDragBoxSetting.max),e<i.rightDragBoxSetting.min&&(e=i.rightDragBoxSetting.min),i.rightDragBoxSetting.size=e})):"bottom"===t&&(this.boxWatch=this.$watch("$store.state.dragBox.mousemoveY",(function(t){var e=i.bottomDragBoxSizeButter-t;e>i.bottomDragBoxSetting.max&&(e=i.bottomDragBoxSetting.max),e<i.bottomDragBoxSetting.min&&(e=i.bottomDragBoxSetting.min),i.bottomDragBoxSetting.size=e}))):(this.boxWatch&&this.boxWatch(),this.$store.commit("applyEditorViewBuffer"))},"rightDragBoxSetting.size":function(t,e){this.resetEditorViewSize()},"leftDragBoxSetting.size":function(t,e){this.resetEditorViewSize()},"bottomDragBoxSetting.size":function(t,e){this.resetEditorViewSize()}},mounted:function(){var t=this;this.resetEditorViewSize(),window.onresize=function(){t.resetEditorViewSize(),t.$store.commit("setViewTrackWidth")}}},bi=vi,xi=(i("2dbb"),Object(d["a"])(bi,bt,xt,!1,null,"302723d1",null)),wi=xi.exports,ki=i("9224"),Bi={components:{editor:wi},mounted:function(){NProgress.done();var t=window.localStorage;t.version&&t.version===ki.version||(t.version=ki.version,this.$store.commit("setNoticeVisible",!0))}},Si=Bi,Ci=(i("225e"),Object(d["a"])(Si,pt,vt,!1,null,"f6b86c0a",null)),Di=Ci.exports,Mi=i("8c4f");s["default"].use(Mi["a"]);var yi=[],$i=new Mi["a"]({routes:yi}),Ti=$i,Wi=(i("99af"),i("caad"),i("2532"),i("2f62")),Ei=i("19ab"),_i=i.n(Ei),zi=i("ad17"),Li=i.n(zi),ji=i("907a"),Vi=i.n(ji),Oi=i("be3f"),Ni=i.n(Oi),Pi={state:{exclusiveType:"",exclusiveConfig:"",materialList:{},currentMaterial:"",isDrag:!1,sceneStructure:[]},getters:{getExclusive:function(t){return{type:t.exclusiveType,config:t.exclusiveConfig}},getMaterialList:function(t){return t.materialList},getCurrentMaterial:function(t){return t.currentMaterial},getIsDrag:function(t){return t.isDrag},getSceneStructure:function(t){return t.sceneStructure}},mutations:{setExclusice:function(t,e){var i=e.type,n=e.config;t.exclusiveType=i,t.exclusiveConfig=n},addMaterial:function(t,e){s["default"].set(t.materialList,e,{})},renderDom:function(t,e){var i=e.id,n=e.material;s["default"].set(t.materialList,i,n),this.commit("setCurrentMaterial",i)},setCurrentMaterial:function(t,e){t.currentMaterial=t.materialList[e]},setIsDrag:function(t,e){t.isDrag=e},setSceneStructure:function(t,e){t.sceneStructure=e}},actions:{}},Ai=i("debd"),Hi=i.n(Ai),Ri=i("7a5c"),Xi=i.n(Ri);s["default"].use(Wi["a"]);var Yi=new Wi["a"].Store({state:{editorCanEdit:!1,MMDObjectList:{},currentObject:"",toExclusive:!1},getters:{getEditorCanEdit:function(t){return t.editorCanEdit},getMMDObjectList:function(t){return t.MMDObjectList},getCurrentObject:function(t){return t.currentObject},getToExclusive:function(t){return t.toExclusive}},mutations:{setEditorCanEdit:function(t,e){t.editorCanEdit=e},addMMDObjectList:function(t,e){for(var i in t.MMDObjectList)t.MMDObjectList[i].chouse=!1;var n=function(){var t=65,e="",i="",n="",o=Math.random(),r=Math.random(),a=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};return o<1/3?(e=t,i=r>.5?a(180,250):a(80,150),n=r<.5?a(180,250):a(80,150)):o>=1/3&&o<2/3?(i=t,e=r>.5?a(180,250):a(80,150),n=r<.5?a(180,250):a(80,150)):(n=t,i=r>.5?a(180,250):a(80,150),e=r<.5?a(180,250):a(80,150)),"rgb(".concat(e,", ").concat(i,", ").concat(n,")")};s["default"].set(t.MMDObjectList,e.id,{name:e.name,id:e.id,visible:e.visible,position:e.position,scale:e.scale,rotation:e.rotation,castShadow:e.castShadow,receiveShadow:e.receiveShadow,trackColor:n(),duration:e.duration||100,chouse:!0,solo:!1}),this.commit("setCurrentObject",e),MMD.getScene()},removeMMDObjectList:function(t,e){s["default"].delete(t.MMDObjectList,e.id),MMD.getScene()},setMMDObjectList:function(t,e){var i=e.id,n=e.setting,o=t.MMDObjectList[i];for(var r in n){if("chouse"===r)for(var a in t.MMDObjectList)t.MMDObjectList[a][r]=!1;o[r]=n[r]}t.MMDObjectList=Object.assign({},t.MMDObjectList)},setCurrentObject:function(t,e){t.currentObject=e,e.type.includes("Geometry")?this.commit("setToExclusive",!1):this.commit("setToExclusive",!0),this.commit("setMMDObjectList",{id:e.id,setting:{chouse:!0}}),this.commit("setExclusice",{type:e.type,config:e.config})},setToExclusive:function(t,e){t.toExclusive=e}},actions:{},modules:{dragBox:_i.a,editor:Li.a,topNav:Vi.a,editorView:Hi.a,bottomNav:Ni.a,rightNav:Pi,history:Xi.a}});s["default"].use(o.a),s["default"].component(a.a.name,a.a),s["default"].prototype.$MMDProgress=S.init(),s["default"].prototype.$tool=lt.a,s["default"].prototype.$bus=ft,s["default"].config.productionTip=!1,window.App=new s["default"]({router:Ti,store:Yi,render:function(t){return t(Di)}}).$mount("#app")},"59f8":function(t,e,i){"use strict";var n=i("9ff4"),o=i.n(n);o.a},"5c1e":function(t,e,i){"use strict";var n=i("8873"),o=i.n(n);o.a},"5dd9":function(t,e,i){},"618e":function(t,e,i){"use strict";var n=i("5dd9"),o=i.n(n);o.a},"63f7":function(t,e,i){"use strict";var n=i("fd93"),o=i.n(n);o.a},6423:function(t,e,i){"use strict";var n=i("e8a0"),o=i.n(n);o.a},"7a5c":function(t,e){t.exports={state:{historyList:[{name:"",attr:"",oldValue:"",newValue:""}]},getters:{},mutations:{},actions:{}}},"862b":function(t,e,i){},8873:function(t,e,i){},"89e9":function(t,e,i){},"8e62":function(t,e,i){},"8f0d":function(t,e,i){},"907a":function(t,e){t.exports={state:{height:70,helpDocumentVisible:!1,noticeVisible:!1,addNewVisible:!1,config:{file:{desp:"文件",name:"file",icon:"#icon-wenjian",operate:[{name:"new",desp:"新建",shortcut:["ctrl","n"],run:function(){App.$store.commit("setAddNewVisiable",!0)}}]},effect:{desp:"效果",name:"effect",icon:"#icon-xiaoguo",operate:[]},operation:{desp:"操作",name:"operation",icon:"#icon-caozuo",operate:[{name:"revoke",desp:"撤销",shortcut:["ctrl","z"],run:function(){return MMD.history.undo()}},{name:"recovery",desp:"恢复",shortcut:["ctrl","y"],run:function(){return MMD.history.redo()}}]},window:{desp:"窗口",name:"window",icon:"#icon-chuangkou",operate:[{name:"reset",desp:"重置",shortcut:["alt","r"],run:function(){App.$store.commit("resetEditorView")}}]},help:{desp:"帮助",name:"help",icon:"#icon-bangzhu",operate:[{name:"howtodo",desp:"操作介绍",shortcut:["alt","h"],run:function(){App.$store.commit("setHelpDocumentVisible",!0)}}]},about:{desp:"关于我们",name:"about",icon:"#icon-yonghu",operate:[{name:"github",desp:"Github",shortcut:[],run:function(){window.open("https://github.com/Shiotsukikaedesari")}}]}}},getters:{getTopNavHeight:function(t){return t.height},getTopConfig:function(t){return t.config}},mutations:{addTopConfig:function(t,e){var i=e.main,n=e.operation;t.config[i].operate.push(n)},setHelpDocumentVisible:function(t,e){t.helpDocumentVisible=e},setNoticeVisible:function(t,e){t.noticeVisible=e},setAddNewVisiable:function(t,e){t.addNewVisible=e}},actions:{}}},9195:function(t,e,i){"use strict";var n=i("8f0d"),o=i.n(n);o.a},9224:function(t){t.exports=JSON.parse('{"name":"mmd-display-editor","version":"0.2.1","private":true,"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint","getModel":"node ./script/getModel.js"},"dependencies":{"core-js":"^3.6.5","element-ui":"^2.13.2","nprogress":"^0.2.0","vue":"^2.6.11","vue-router":"^3.2.0","vuex":"^3.4.0"},"devDependencies":{"@vue/cli-plugin-babel":"~4.4.0","@vue/cli-plugin-eslint":"~4.4.0","@vue/cli-plugin-router":"~4.4.0","@vue/cli-plugin-vuex":"~4.4.0","@vue/cli-service":"~4.4.0","@vue/eslint-config-standard":"^5.1.2","ammo.js":"0.0.10","axios":"^0.18.0","babel-eslint":"^10.1.0","eslint":"^6.7.2","eslint-plugin-import":"^2.20.2","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.0","eslint-plugin-vue":"^6.2.2","less":"^3.0.4","less-loader":"^5.0.0","style-resources-loader":"^1.3.2","three":"^0.118.3","vue-cli-plugin-axios":"0.0.4","vue-cli-plugin-style-resources-loader":"^0.1.4","vue-template-compiler":"^2.6.11"}}')},"92b3":function(t,e,i){"use strict";var n=i("4ceb"),o=i.n(n);o.a},"92e0":function(t,e,i){"use strict";var n=i("baca"),o=i.n(n);o.a},"9d21":function(t,e,i){},"9ff4":function(t,e,i){},a80b:function(t,e,i){"use strict";var n=i("3543"),o=i.n(n);o.a},a8b9:function(t,e,i){},ad17:function(t,e){t.exports={state:{rightDragBoxSetting:{size:322,max:600,min:130},leftDragBoxSetting:{size:322,max:600,min:130},bottomDragBoxSetting:{size:250,max:600,min:150},rightDragBoxSizeBuffer:320,leftDragBoxSizeBuffer:320,bottomDragBoxSizeButter:250},getters:{getRightDragBoxSizeBuffer:function(t){return t.rightDragBoxSizeBuffer},getLeftDragBoxSizeBuffer:function(t){return t.leftDragBoxSizeBuffer},getBottomDragBoxSizeButter:function(t){return t.bottomDragBoxSizeButter},getRightDragBoxSetting:function(t){return t.rightDragBoxSetting},getLeftDragBoxSetting:function(t){return t.leftDragBoxSetting},getBottomDragBoxSetting:function(t){return t.bottomDragBoxSetting}},mutations:{applyEditorViewBuffer:function(t){t.rightDragBoxSizeBuffer=t.rightDragBoxSetting.size,t.leftDragBoxSizeBuffer=t.leftDragBoxSetting.size,t.bottomDragBoxSizeButter=t.bottomDragBoxSetting.size},setRightDragBoxSetting:function(t,e){t.rightDragBoxSetting.size=e.size||t.rightDragBoxSetting.size,t.rightDragBoxSetting.max=e.max||t.rightDragBoxSetting.max,t.rightDragBoxSetting.min=e.min||t.rightDragBoxSetting.min},setLeftDragBoxSetting:function(t,e){t.leftDragBoxSetting.size=e.size||t.leftDragBoxSetting.size,t.leftDragBoxSetting.max=e.max||t.leftDragBoxSetting.max,t.leftDragBoxSetting.min=e.min||t.leftDragBoxSetting.min},setBottomDragBoxSetting:function(t,e){t.bottomDragBoxSetting.size=e.size||t.bottomDragBoxSetting.size,t.bottomDragBoxSetting.max=e.max||t.bottomDragBoxSetting.max,t.bottomDragBoxSetting.min=e.min||t.bottomDragBoxSetting.min},setEditorViewByProportion:function(t,e){var i=this.getters.getTopNavHeight,n=this.getters.getViewControlHeight,o=window.innerWidth-(t.leftDragBoxSetting.min+t.rightDragBoxSetting.min),r=window.innerHeight-i-n-t.bottomDragBoxSetting.min,a=window.innerWidth-(t.leftDragBoxSetting.max+t.rightDragBoxSetting.max),s=window.innerHeight-i-n-t.bottomDragBoxSetting.max,c="",l="";if(e>=1){if(c=o,l=c/e,l<s)return!1;l>r&&(l=r,c=l*e)}else{if(l=r,c=l*e,c<a)return!1;l>o&&(c=o,l=c/e)}t.leftDragBoxSetting.size=(window.innerWidth-c)/2,t.rightDragBoxSetting.size=t.leftDragBoxSetting.size,t.bottomDragBoxSetting.size=window.innerHeight-i-l-n,this.commit("applyEditorViewBuffer")},resetEditorView:function(t){this.commit("setRightDragBoxSetting",{size:320}),this.commit("setLeftDragBoxSetting",{size:320}),this.commit("setBottomDragBoxSetting",{size:250}),this.commit("applyEditorViewBuffer")}},actions:{}}},baca:function(t,e,i){},bc47:function(t,e,i){"use strict";var n=i("2135"),o=i.n(n);o.a},be3f:function(t,e){t.exports={state:{operationControlSetting:{size:400,max:1e3,min:300},itemBoxScrollTop:0,play:!1,totalTime:"",clipCurrentTime:0,fps:"",viewTrackWidth:""},getters:{getOperationControlSetting:function(t){return t.operationControlSetting},getPlay:function(t){return t.play},getTotalTime:function(t){return t.totalTime},getClipCurrentTime:function(t){return t.clipCurrentTime},getFps:function(t){return t.fps},getViewTrackWidth:function(t){return t.viewTrackWidth},getItemBoxScrollTop:function(t){return t.itemBoxScrollTop}},mutations:{setPlay:function(t,e){t.play=e},setViewTrackWidth:function(t){t.viewTrackWidth=window.innerWidth-t.operationControlSetting.size},setAnimationConfig:function(t,e){t.totalTime=e.totalTime,t.fps=e.fps},setClipCurrentTime:function(t,e){t.clipCurrentTime=1e3*e},setItemBoxScrollTop:function(t,e){t.itemBoxScrollTop=e}},actions:{}}},c0f7:function(t,e,i){"use strict";var n=i("26a5"),o=i.n(n);o.a},c44a:function(t,e,i){},cf9b:function(t,e,i){},d146:function(t,e,i){},d1d5:function(t,e,i){"use strict";var n=i("14fa"),o=i.n(n);o.a},d6bf:function(t,e,i){},da7e:function(t,e,i){"use strict";var n=i("8e62"),o=i.n(n);o.a},dbc4:function(t,e,i){"use strict";var n=i("3653"),o=i.n(n);o.a},debd:function(t,e,i){i("4160"),i("a434"),i("159b"),t.exports={state:{viewControlHeight:20,cameraList:[]},getters:{getViewControlHeight:function(t){return t.viewControlHeight},getCameraList:function(t){return t.cameraList}},mutations:{addCameraList:function(t,e){t.cameraList.push(e)},removeCameraList:function(t,e){t.cameraList.forEach((function(i,n,o){i===e&&t.cameraList.splice(n,1)}))}},actions:{}}},e8a0:function(t,e,i){},eb44:function(t,e,i){"use strict";var n=i("3fee"),o=i.n(n);o.a},f085:function(t,e,i){},f5ad:function(t,e,i){},fa25:function(t,e,i){"use strict";var n=i("862b"),o=i.n(n);o.a},fad2:function(t,e,i){"use strict";var n=i("9d21"),o=i.n(n);o.a},fc22:function(t,e,i){"use strict";var n=i("a8b9"),o=i.n(n);o.a},fd93:function(t,e,i){}});